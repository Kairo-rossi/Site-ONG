document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.getElementById("confirmacao-modal"),t=document.getElementById("btn-fechar-modal"),o=document.getElementById("btn-modal-confirmar");if(e){const n=()=>{e.classList.remove("is-visible"),e.setAttribute("aria-hidden","true")};window.openModal=(()=>{e.classList.add("is-visible"),e.setAttribute("aria-hidden","false")}),t&&t.addEventListener("click",n),o&&o.addEventListener("click",n),e.addEventListener("click",t=>{t.target===e&&n()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("is-visible")&&n()})}}function t(e,t=!0){if(!i)return;let o="",n="Nome da ONG: Juntos pela Causa";if(!e.includes("projetos.html"))return e.includes("index.html")||"./"===e||"/"===e?void console.log("Conteúdo da Home carregado (ou mantido)."):void 0;"function"==typeof criarConteudoProjetos?(o=criarConteudoProjetos(),n="Projetos Sociais | Nome da ONG"):(console.error("Função criarConteudoProjetos não definida. Verifique a inclusão de js/projetos.js"),o='<div class="alert alert-erro col-12">Erro ao carregar conteúdo. Verifique o console.</div>'),o&&(i.innerHTML=o,document.title=n),t&&window.history.pushState({path:e},n,e),r.forEach(t=>{t.classList.remove("ativo"),t.removeAttribute("aria-current");const o=t.getAttribute("href");o&&e.includes(o)&&(t.classList.add("ativo"),t.setAttribute("aria-current","page"))}),window.scrollTo(0,0)}const o=document.getElementById("btn-menu-mobile"),n=document.getElementById("menu-principal"),i=document.querySelector("main .container"),r=document.querySelectorAll("nav a");o&&n&&(o.addEventListener("click",function(){n.classList.toggle("aberto");const e="true"===o.getAttribute("aria-expanded");o.setAttribute("aria-expanded",String(!e)),document.body.classList.toggle("menu-ativo")}),n.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("aberto");const e=document.getElementById("btn-menu-mobile");e&&e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-ativo")})})),e(),r.forEach(e=>{"cadastro.html"!==e.getAttribute("href")&&"index.html"!==e.getAttribute("href")&&(e.getAttribute("href").startsWith("#")||e.addEventListener("click",o=>{o.preventDefault();const n=e.getAttribute("href");n&&t(n)}))}),window.addEventListener("popstate",e=>{if(null===e.state)return void window.location.assign("index.html");const o=e.state.path;t(o,!1)})});